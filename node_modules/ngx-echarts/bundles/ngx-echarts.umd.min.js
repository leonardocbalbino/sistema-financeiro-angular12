!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-echarts",["exports","@angular/core","rxjs","rxjs/operators"],e):e((t=t||self)["ngx-echarts"]={},t.ng.core,t.rxjs,t.rxjs.operators)}(this,(function(t,e,r,i){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function n(t,e,r,i){var n,o=arguments.length,h=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(h=(o<3?n(h):o>3?n(e,r,h):n(e,r))||h);return o>3&&h&&Object.defineProperty(e,r,h),h}var o=function(){function t(t){this.changes=t}return t.of=function(e){return new t(e)},t.prototype.notEmpty=function(t){if(this.changes[t]){var e=this.changes[t].currentValue;if(null!=e)return r.of(e)}return r.EMPTY},t.prototype.has=function(t){if(this.changes[t]){var e=this.changes[t].currentValue;return r.of(e)}return r.EMPTY},t.prototype.notFirst=function(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){var e=this.changes[t].currentValue;return r.of(e)}return r.EMPTY},t.prototype.notFirstAndEmpty=function(t){if(this.changes[t]&&!this.changes[t].isFirstChange()){var e=this.changes[t].currentValue;if(null!=e)return r.of(e)}return r.EMPTY},t}(),h=new e.InjectionToken("NGX_ECHARTS_CONFIG"),a=function(){function t(t,r,i){this.el=r,this.ngZone=i,this.autoResize=!0,this.loadingType="default",this.chartInit=new e.EventEmitter,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.currentOffsetWidth=0,this.currentOffsetHeight=0,this.echarts=t.echarts}var a,s;return t.prototype.ngOnChanges=function(t){var e=this,r=o.of(t);r.notFirstAndEmpty("options").subscribe((function(t){return e.onOptionsChange(t)})),r.notFirstAndEmpty("merge").subscribe((function(t){return e.setOption(t)})),r.has("loading").subscribe((function(t){return e.toggleLoading(!!t)})),r.notFirst("theme").subscribe((function(){return e.refreshChart()}))},t.prototype.ngOnInit=function(){var t=this;this.resizeSub=r.fromEvent(window,"resize").pipe(i.debounceTime(50)).subscribe((function(){t.autoResize&&window.innerWidth!==t.currentWindowWidth&&(t.currentWindowWidth=window.innerWidth,t.currentOffsetWidth=t.el.nativeElement.offsetWidth,t.currentOffsetHeight=t.el.nativeElement.offsetHeight,t.resize())}))},t.prototype.ngOnDestroy=function(){this.resizeSub&&this.resizeSub.unsubscribe(),this.dispose()},t.prototype.ngDoCheck=function(){if(this.chart&&this.autoResize){var t=this.el.nativeElement.offsetWidth,e=this.el.nativeElement.offsetHeight;this.currentOffsetWidth===t&&this.currentOffsetHeight===e||(this.currentOffsetWidth=t,this.currentOffsetHeight=e,this.resize())}},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){return t.initChart()}))},t.prototype.dispose=function(){this.chart&&(this.chart.dispose(),this.chart=null)},t.prototype.resize=function(){this.chart&&this.chart.resize()},t.prototype.toggleLoading=function(t){this.chart&&(t?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())},t.prototype.setOption=function(t,e){this.chart&&this.chart.setOption(t,e)},t.prototype.refreshChart=function(){this.dispose(),this.initChart()},t.prototype.createChart=function(){var t=this;this.currentWindowWidth=window.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight;var e=this.el.nativeElement;if(window&&window.getComputedStyle){var r=window.getComputedStyle(e,null).getPropertyValue("height");r&&"0px"!==r||e.style.height&&"0px"!==e.style.height||(e.style.height="400px")}return this.ngZone.runOutsideAngular((function(){return t.echarts.init(e,t.theme,t.initOpts)}))},t.prototype.initChart=function(){this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)},t.prototype.onOptionsChange=function(t){t&&(this.chart||(this.chart=this.createChart(),this.chartInit.emit(this.chart)),this.chart.setOption(this.options,!0))},t.prototype.createLazyEvent=function(t){var e=this;return this.chartInit.pipe(i.switchMap((function(i){return new r.Observable((function(r){return i.on(t,(function(t){return e.ngZone.run((function(){return r.next(t)}))})),function(){return i.off(t)}}))})))},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[h]}]},{type:e.ElementRef},{type:e.NgZone}]},n([e.Input()],t.prototype,"options",void 0),n([e.Input()],t.prototype,"theme",void 0),n([e.Input()],t.prototype,"loading",void 0),n([e.Input()],t.prototype,"initOpts",void 0),n([e.Input()],t.prototype,"merge",void 0),n([e.Input()],t.prototype,"autoResize",void 0),n([e.Input()],t.prototype,"loadingType",void 0),n([e.Input()],t.prototype,"loadingOpts",void 0),n([e.Output()],t.prototype,"chartInit",void 0),n([e.Output()],t.prototype,"chartClick",void 0),n([e.Output()],t.prototype,"chartDblClick",void 0),n([e.Output()],t.prototype,"chartMouseDown",void 0),n([e.Output()],t.prototype,"chartMouseMove",void 0),n([e.Output()],t.prototype,"chartMouseUp",void 0),n([e.Output()],t.prototype,"chartMouseOver",void 0),n([e.Output()],t.prototype,"chartMouseOut",void 0),n([e.Output()],t.prototype,"chartGlobalOut",void 0),n([e.Output()],t.prototype,"chartContextMenu",void 0),n([e.Output()],t.prototype,"chartLegendSelectChanged",void 0),n([e.Output()],t.prototype,"chartLegendSelected",void 0),n([e.Output()],t.prototype,"chartLegendUnselected",void 0),n([e.Output()],t.prototype,"chartLegendScroll",void 0),n([e.Output()],t.prototype,"chartDataZoom",void 0),n([e.Output()],t.prototype,"chartDataRangeSelected",void 0),n([e.Output()],t.prototype,"chartTimelineChanged",void 0),n([e.Output()],t.prototype,"chartTimelinePlayChanged",void 0),n([e.Output()],t.prototype,"chartRestore",void 0),n([e.Output()],t.prototype,"chartDataViewChanged",void 0),n([e.Output()],t.prototype,"chartMagicTypeChanged",void 0),n([e.Output()],t.prototype,"chartPieSelectChanged",void 0),n([e.Output()],t.prototype,"chartPieSelected",void 0),n([e.Output()],t.prototype,"chartPieUnselected",void 0),n([e.Output()],t.prototype,"chartMapSelectChanged",void 0),n([e.Output()],t.prototype,"chartMapSelected",void 0),n([e.Output()],t.prototype,"chartMapUnselected",void 0),n([e.Output()],t.prototype,"chartAxisAreaSelected",void 0),n([e.Output()],t.prototype,"chartFocusNodeAdjacency",void 0),n([e.Output()],t.prototype,"chartUnfocusNodeAdjacency",void 0),n([e.Output()],t.prototype,"chartBrush",void 0),n([e.Output()],t.prototype,"chartBrushSelected",void 0),n([e.Output()],t.prototype,"chartRendered",void 0),n([e.Output()],t.prototype,"chartFinished",void 0),t=n([e.Directive({selector:"echarts, [echarts]",exportAs:"echarts"}),(a=0,s=e.Inject(h),function(t,e){s(t,e,a)})],t)}(),s=function(){function t(){}var r;return r=t,t.forRoot=function(t){return{ngModule:r,providers:[{provide:h,useValue:t}]}},t.forChild=function(){return{ngModule:r}},t=r=n([e.NgModule({imports:[],declarations:[a],exports:[a]})],t)}();t.NgxEchartsDirective=a,t.NgxEchartsModule=s,t.Éµa=h,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-echarts.umd.min.js.map